<%= render "header" %>

<div class="pageTitle">
  <h1>User profile</h1>
</div>
<div class="container">
  <div class="card">
    <img src="https://api.dicebear.com/5.x/big-ears/svg?seed=Snuggles" alt="Avatar" style="width:100%">
      <h2><%= @user.name %></h2>
      <h3> Followers: <%= @user.followers.count %></h3>
      <% @user.followers.each do |f| %>
        <p> <%= f.name %> </p>
      <% end %>

      <h3>Following: <%= @user.following_ids.count %></h3>
      <% @user.followings.each do |f| %>
        <p> <%= f.name %> </p>
      <% end %>
    <div class="buttons">
      <%= button_to "Update user", edit_user_path(@user), method: :get %>

      <%= button_to "Delete user", user_path(@user.id) , method: :delete %>

      <%= button_to @following ? "Unfollow" : "Follow"  , user_follow_path(@user) , method: :post %>
    </div>
</div>
</div>